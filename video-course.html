<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Complete Investment Video Course - 24 Lessons</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
      color: white;
      min-height: 100vh;
      padding: 20px;
    }

    .course-container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .course-header {
      text-align: center;
      margin-bottom: 40px;
      padding: 40px 20px;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.15), rgba(118, 75, 162, 0.05));
      border-radius: 24px;
      border: 2px solid rgba(102, 126, 234, 0.3);
    }

    .course-header h1 {
      font-size: 3rem;
      margin-bottom: 15px;
      color: #a8b2d1;
    }

    .course-header p {
      font-size: 1.2rem;
      color: rgba(255, 255, 255, 0.7);
    }

    .course-stats {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .stat {
      text-align: center;
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: #667eea;
    }

    .stat-label {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.6);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .layout-container {
      display: grid;
      grid-template-columns: 350px 1fr;
      gap: 30px;
      margin-bottom: 40px;
    }

    .sidebar {
      background: rgba(255, 255, 255, 0.03);
      border-radius: 20px;
      padding: 25px;
      height: fit-content;
      position: sticky;
      top: 20px;
      max-height: calc(100vh - 40px);
      overflow-y: auto;
    }

    .sidebar h3 {
      font-size: 1.3rem;
      margin-bottom: 20px;
      color: #a8b2d1;
    }

    .module {
      margin-bottom: 25px;
    }

    .module-header {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(118, 75, 162, 0.1));
      padding: 15px;
      border-radius: 12px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid rgba(102, 126, 234, 0.3);
    }

    .module-header:hover {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.15));
      border-color: #667eea;
    }

    .module-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: #a8b2d1;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .module-count {
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.5);
    }

    .lesson-list {
      margin-top: 10px;
    }

    .lesson-item {
      padding: 12px 15px;
      margin: 5px 0;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
      border: 1px solid transparent;
    }

    .lesson-item:hover {
      background: rgba(102, 126, 234, 0.15);
      border-color: rgba(102, 126, 234, 0.5);
      transform: translateX(5px);
    }

    .lesson-item.active {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.2));
      border-color: #667eea;
    }

    .lesson-icon {
      font-size: 1.2rem;
    }

    .lesson-title {
      flex: 1;
      font-size: 0.95rem;
    }

    .lesson-duration {
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.5);
    }

    .video-player-area {
      background: linear-gradient(135deg, #1a1f2e 0%, #252b3d 100%);
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .video-screen {
      position: relative;
      width: 100%;
      aspect-ratio: 16 / 9;
      background: linear-gradient(135deg, #1a1f2e 0%, #252b3d 100%);
      overflow: hidden;
    }

    .video-content-area {
      position: absolute;
      top: 40px;
      left: 40px;
      right: 40px;
      bottom: 100px;
      padding: 20px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .video-slide-title {
      font-size: 2.8rem;
      font-weight: 700;
      margin-bottom: 25px;
      color: #a8b2d1;
      text-shadow: 0 2px 10px rgba(168, 178, 209, 0.3);
      animation: fadeInUp 0.8s ease-out;
      line-height: 1.2;
    }

    .video-slide-content {
      font-size: 1.3rem;
      line-height: 1.7;
      color: rgba(255, 255, 255, 0.85);
      animation: fadeInUp 1s ease-out;
    }

    .video-table {
      width: 100%;
      margin: 20px 0;
      border-collapse: collapse;
      animation: fadeInUp 1.2s ease-out;
    }

    .video-table th,
    .video-table td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid rgba(168, 178, 209, 0.15);
    }

    .video-table th {
      background: rgba(102, 126, 234, 0.15);
      color: #a8b2d1;
      font-weight: 600;
    }

    .video-table td {
      background: rgba(255, 255, 255, 0.03);
    }

    .video-highlight {
      background: rgba(102, 126, 234, 0.25) !important;
      font-weight: 600;
    }

    .video-formula-box {
      background: rgba(102, 126, 234, 0.12);
      border: 2px solid rgba(102, 126, 234, 0.4);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      font-size: 1.4rem;
      font-family: 'Courier New', monospace;
      color: #a8b2d1;
      font-weight: 600;
    }

    .video-caption {
      position: absolute;
      bottom: 30px;
      left: 40px;
      right: 40px;
      background: rgba(0, 0, 0, 0.85);
      padding: 15px 25px;
      border-radius: 10px;
      font-size: 1.05rem;
      text-align: left;
      border-left: 4px solid #667eea;
      line-height: 1.6;
    }

    .video-nav-arrows {
      position: absolute;
      top: 50%;
      width: 100%;
      transform: translateY(-50%);
      display: flex;
      justify-content: space-between;
      padding: 0 20px;
      pointer-events: none;
      z-index: 20;
    }

    .video-nav-arrow {
      width: 50px;
      height: 50px;
      background: rgba(102, 126, 234, 0.3);
      border: 2px solid rgba(102, 126, 234, 0.5);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: white;
      cursor: pointer;
      pointer-events: all;
      transition: all 0.3s ease;
    }

    .video-nav-arrow:hover {
      background: rgba(102, 126, 234, 0.6);
      transform: scale(1.1);
    }

    .video-nav-arrow:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .video-controls {
      padding: 25px 30px;
      background: rgba(0, 0, 0, 0.4);
      display: flex;
      gap: 15px;
      align-items: center;
      flex-wrap: wrap;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .video-btn {
      padding: 14px 28px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .video-btn:hover {
      transform: translateY(-2px);
    }

    .video-btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .video-progress-bar {
      flex: 1;
      height: 6px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 3px;
      overflow: hidden;
      min-width: 200px;
    }

    .video-progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      width: 0%;
      transition: width 0.3s ease;
    }

    .completion-badge {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(46, 213, 115, 0.2);
      color: #2ed573;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 600;
      margin-left: 10px;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 1024px) {
      .layout-container {
        grid-template-columns: 1fr;
      }
      
      .sidebar {
        position: relative;
        max-height: none;
      }
    }
  </style>
</head>
<body>
  <div class="course-container">
    <!-- Course Header -->
    <div class="course-header">
      <h1>üéì Complete Investment Mastery Course</h1>
      <p>From Financial Statements to Portfolio Management - Master Every Aspect of Investing</p>
      <div class="course-stats">
        <div class="stat">
          <div class="stat-number">5</div>
          <div class="stat-label">Modules</div>
        </div>
        <div class="stat">
          <div class="stat-number">24</div>
          <div class="stat-label">Video Lessons</div>
        </div>
        <div class="stat">
          <div class="stat-number">~6</div>
          <div class="stat-label">Hours Total</div>
        </div>
      </div>
    </div>

    <!-- Main Layout -->
    <div class="layout-container">
      <!-- Sidebar with Course Navigation -->
      <div class="sidebar" id="courseSidebar">
        <h3>üìö Course Curriculum</h3>
        <!-- Modules and lessons will be injected here -->
      </div>

      <!-- Video Player Area -->
      <div class="video-player-area">
        <div class="video-screen">
          <div class="video-nav-arrows">
            <button class="video-nav-arrow" id="prevSlideBtn" onclick="previousSlide()">‚óÄ</button>
            <button class="video-nav-arrow" id="nextSlideBtn" onclick="nextSlide()">‚ñ∂</button>
          </div>
          
          <div class="video-content-area" id="videoContentArea"></div>
          
          <div class="video-caption" id="videoCaption" style="display: none;"></div>
        </div>

        <div class="video-controls">
          <button class="video-btn" id="playBtn" onclick="playVideo()">‚ñ∂Ô∏è Play</button>
          <button class="video-btn" id="pauseBtn" onclick="pauseVideo()" disabled>‚è∏Ô∏è Pause</button>
          <button class="video-btn" onclick="previousSlide()">‚èÆÔ∏è Previous</button>
          <button class="video-btn" onclick="nextSlide()">‚è≠Ô∏è Next</button>
          <button class="video-btn" onclick="loadNextLesson()">‚è≠Ô∏è Next Lesson</button>
          <div class="video-progress-bar">
            <div class="video-progress-fill" id="videoProgressBar"></div>
          </div>
          <span id="slideIndicator" style="color: rgba(255,255,255,0.6); font-size: 0.95rem; padding: 0 15px;">Slide 0/0</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Complete Course Data
    const courseData = {
      modules: [
        {
          id: 'module1',
          title: 'Module 1: Financial Statements',
          lessons: [
            { id: 'balance-sheet', title: 'Balance Sheet Fundamentals', duration: '15 min', icon: 'üìä' },
            { id: 'income-statement', title: 'Income Statement Analysis', duration: '18 min', icon: 'üí∞' },
            { id: 'cash-flow', title: 'Cash Flow Statement', duration: '16 min', icon: 'üíµ' },
            { id: 'shareholders-equity', title: 'Statement of Shareholders Equity', duration: '12 min', icon: 'üìà' }
          ]
        },
        {
          id: 'module2',
          title: 'Module 2: Financial Ratios',
          lessons: [
            { id: 'profitability-ratios', title: 'Profitability Ratios', duration: '14 min', icon: 'üíé' },
            { id: 'liquidity-ratios', title: 'Liquidity Ratios', duration: '12 min', icon: 'üíß' },
            { id: 'leverage-ratios', title: 'Leverage Ratios', duration: '13 min', icon: '‚öñÔ∏è' },
            { id: 'efficiency-ratios', title: 'Efficiency Ratios', duration: '15 min', icon: '‚ö°' },
            { id: 'valuation-ratios', title: 'Valuation Ratios', duration: '16 min', icon: 'üéØ' }
          ]
        },
        {
          id: 'module3',
          title: 'Module 3: Valuation Methods',
          lessons: [
            { id: 'dcf-valuation', title: 'Discounted Cash Flow (DCF)', duration: '20 min', icon: 'üìâ' },
            { id: 'pe-ratio', title: 'Price-to-Earnings (P/E) Ratio', duration: '14 min', icon: 'üìä' },
            { id: 'ev-ebitda', title: 'EV/EBITDA Multiples', duration: '15 min', icon: 'üíπ' },
            { id: 'price-to-book', title: 'Price-to-Book Ratio', duration: '12 min', icon: 'üìö' },
            { id: 'comparable-analysis', title: 'Comparable Company Analysis', duration: '18 min', icon: 'üîç' }
          ]
        },
        {
          id: 'module4',
          title: 'Module 4: Investment Analysis',
          lessons: [
            { id: 'reading-10k', title: 'Reading 10-K Reports', duration: '22 min', icon: 'üìë' },
            { id: 'annual-reports', title: 'Analyzing Annual Reports', duration: '20 min', icon: 'üìÑ' },
            { id: 'competitive-analysis', title: 'Competitive Analysis', duration: '16 min', icon: '‚öîÔ∏è' },
            { id: 'industry-analysis', title: 'Industry Analysis', duration: '18 min', icon: 'üè≠' },
            { id: 'swot-analysis', title: 'SWOT Analysis', duration: '14 min', icon: 'üé≤' }
          ]
        },
        {
          id: 'module5',
          title: 'Module 5: Portfolio Management',
          lessons: [
            { id: 'diversification', title: 'Diversification Strategies', duration: '16 min', icon: 'üåà' },
            { id: 'asset-allocation', title: 'Asset Allocation', duration: '18 min', icon: 'üéØ' },
            { id: 'risk-management', title: 'Risk Management', duration: '20 min', icon: 'üõ°Ô∏è' },
            { id: 'rebalancing', title: 'Rebalancing Portfolios', duration: '14 min', icon: '‚öñÔ∏è' },
            { id: 'tax-efficient', title: 'Tax-Efficient Investing', duration: '16 min', icon: 'üíº' }
          ]
        }
      ]
    };

    // Video lesson data (we'll add actual lesson content here)
    const lessonContent = {
      'balance-sheet': {
        slides: [
          {
            title: "Understanding Balance Sheets",
            content: "Welcome! Today we'll master the Balance Sheet - one of the three most important financial statements.",
            speech: "Welcome to the Complete Investment Mastery Course! Today, we're going to master the Balance Sheet, one of the three most important financial statements in investing. By the end of this lesson, you'll be able to analyze any company's financial health like a professional analyst. Let's get started!",
            duration: 12000
          },
          {
            title: "What is a Balance Sheet?",
            content: "<div class='video-formula-box'>Assets = Liabilities + Equity</div><p>A snapshot of what a company OWNS and OWES at a specific point in time.</p>",
            speech: "The Balance Sheet shows what a company owns and owes at a specific moment in time. Think of it as a financial photograph. The fundamental equation is: Assets equals Liabilities plus Equity. Everything must balance perfectly, which is why it's called a Balance Sheet!",
            duration: 15000
          },
          {
            title: "Assets: What the Company OWNS",
            content: `
              <table class="video-table">
                <tr><th>Current Assets</th><th>Amount</th></tr>
                <tr><td>Cash</td><td>$50M</td></tr>
                <tr><td>Accounts Receivable</td><td>$30M</td></tr>
                <tr><td>Inventory</td><td>$40M</td></tr>
                <tr class="video-highlight"><td><strong>Total Current Assets</strong></td><td><strong>$120M</strong></td></tr>
              </table>
            `,
            speech: "Assets are everything the company owns. Current Assets are things that can be converted to cash within one year, like cash itself, money customers owe you, and inventory. In this example, the company has 120 million dollars in current assets.",
            duration: 18000
          },
          {
            title: "Long-term Assets",
            content: `
              <table class="video-table">
                <tr><th>Non-Current Assets</th><th>Amount</th></tr>
                <tr><td>Property & Equipment</td><td>$200M</td></tr>
                <tr><td>Intangible Assets</td><td>$80M</td></tr>
                <tr class="video-highlight"><td><strong>Total Non-Current Assets</strong></td><td><strong>$280M</strong></td></tr>
                <tr class="video-highlight"><td><strong>TOTAL ASSETS</strong></td><td><strong>$400M</strong></td></tr>
              </table>
            `,
            speech: "Non-Current Assets are long-term investments like buildings, equipment, and patents. This company has 280 million in non-current assets. Adding everything together, total assets are 400 million dollars.",
            duration: 18000
          },
          {
            title: "Liabilities: What the Company OWES",
            content: `
              <table class="video-table">
                <tr><th>Current Liabilities</th><th>Amount</th></tr>
                <tr><td>Accounts Payable</td><td>$40M</td></tr>
                <tr><td>Short-term Debt</td><td>$20M</td></tr>
                <tr class="video-highlight"><td><strong>Total Current Liabilities</strong></td><td><strong>$60M</strong></td></tr>
                <tr><th>Non-Current Liabilities</th><th></th></tr>
                <tr><td>Long-term Debt</td><td>$140M</td></tr>
                <tr class="video-highlight"><td><strong>TOTAL LIABILITIES</strong></td><td><strong>$200M</strong></td></tr>
              </table>
            `,
            speech: "Liabilities are what the company owes. Current Liabilities must be paid within one year. Long-term liabilities don't need to be paid for over a year. Total liabilities are 200 million dollars.",
            duration: 18000
          },
          {
            title: "Shareholders' Equity",
            content: `
              <table class="video-table">
                <tr><th>Equity</th><th>Amount</th></tr>
                <tr><td>Common Stock</td><td>$100M</td></tr>
                <tr><td>Retained Earnings</td><td>$100M</td></tr>
                <tr class="video-highlight"><td><strong>Total Equity</strong></td><td><strong>$200M</strong></td></tr>
              </table>
              <div class='video-formula-box'>$400M Assets - $200M Liabilities = $200M Equity ‚úì</div>
            `,
            speech: "Shareholders Equity is what's left after subtracting liabilities from assets. It represents the owners' stake in the company. Notice how it balances: 400 million in assets minus 200 million in liabilities equals 200 million in equity. Perfect balance!",
            duration: 18000
          },
          {
            title: "Key Ratios to Analyze",
            content: `
              <div style="font-size: 1.3rem; line-height: 2;">
                <p><strong style="color: #a8b2d1;">Current Ratio:</strong> $120M √∑ $60M = 2.0x ‚úÖ</p>
                <p><strong style="color: #a8b2d1;">Debt-to-Equity:</strong> $200M √∑ $200M = 1.0x</p>
                <p><strong style="color: #a8b2d1;">Working Capital:</strong> $120M - $60M = $60M ‚úÖ</p>
              </div>
            `,
            speech: "Now let's calculate key ratios. The Current Ratio is 2.0, meaning the company has twice as many current assets as current liabilities - that's healthy! Debt-to-Equity is 1.0, showing moderate leverage. Working Capital is 60 million, indicating strong short-term financial health.",
            duration: 20000
          },
          {
            title: "Lesson Complete! üéâ",
            content: `
              <div style="text-align: center;">
                <h2 style="color: #667eea; margin-bottom: 30px;">Congratulations!</h2>
                <p style="font-size: 1.4rem; margin-bottom: 20px;">You now understand:</p>
                <ul style="list-style: none; font-size: 1.2rem; line-height: 2;">
                  <li>‚úÖ What a Balance Sheet represents</li>
                  <li>‚úÖ Assets, Liabilities, and Equity</li>
                  <li>‚úÖ How to calculate key ratios</li>
                  <li>‚úÖ How to analyze financial health</li>
                </ul>
                <p style="margin-top: 30px; font-size: 1.1rem; color: rgba(255,255,255,0.7);">
                  Ready for the next lesson? Click "Next Lesson" to continue!
                </p>
              </div>
            `,
            speech: "Congratulations! You now understand Balance Sheets. You've learned what they represent, how to read assets, liabilities, and equity, and how to calculate key financial ratios. You're ready to analyze any company's financial health! Click Next Lesson to continue your investment mastery journey!",
            duration: 18000
          }
        ]
      },
      // Placeholder for other lessons (to be expanded)
      'income-statement': {
        slides: [
          {
            title: "Income Statement Analysis",
            content: "Learn how companies make money and measure profitability.",
            speech: "Welcome to Income Statement Analysis! In this lesson, we'll learn how to read a company's income statement and analyze profitability. This is one of the most important skills for any investor. Let's dive in!",
            duration: 12000
          },
          {
            title: "Revenue Recognition",
            content: "<div class='video-formula-box'>Revenue = Price √ó Quantity Sold</div><p>The top line of every income statement - how much a company earned from sales.</p>",
            speech: "Revenue, also called sales or the top line, is how much money a company earned from selling products or services. It's calculated as price times quantity sold. This is where the income statement begins.",
            duration: 15000
          },
          {
            title: "Cost of Goods Sold",
            content: `
              <table class="video-table">
                <tr><th>Item</th><th>Amount</th></tr>
                <tr><td>Revenue</td><td>$1,000M</td></tr>
                <tr><td>Cost of Goods Sold</td><td>($600M)</td></tr>
                <tr class="video-highlight"><td><strong>Gross Profit</strong></td><td><strong>$400M</strong></td></tr>
                <tr><td>Gross Margin</td><td>40%</td></tr>
              </table>
            `,
            speech: "Cost of Goods Sold represents direct costs to produce products. Subtracting this from revenue gives us Gross Profit. In this example, the company has a 40% gross margin, meaning they keep 40 cents of every dollar in revenue after direct costs.",
            duration: 18000
          },
          {
            title: "Operating Expenses",
            content: `
              <table class="video-table">
                <tr><th>Expense Category</th><th>Amount</th></tr>
                <tr><td>Sales & Marketing</td><td>$100M</td></tr>
                <tr><td>Research & Development</td><td>$80M</td></tr>
                <tr><td>General & Administrative</td><td>$70M</td></tr>
                <tr class="video-highlight"><td><strong>Total Operating Expenses</strong></td><td><strong>$250M</strong></td></tr>
              </table>
            `,
            speech: "Operating expenses include sales and marketing, research and development, and general administrative costs. These are the costs to run the business day-to-day. Our example company spends 250 million on operating expenses.",
            duration: 18000
          },
          {
            title: "Net Income - The Bottom Line",
            content: `
              <table class="video-table">
                <tr><th>Item</th><th>Amount</th></tr>
                <tr><td>Gross Profit</td><td>$400M</td></tr>
                <tr><td>Operating Expenses</td><td>($250M)</td></tr>
                <tr><td>Operating Income</td><td>$150M</td></tr>
                <tr><td>Interest & Taxes</td><td>($40M)</td></tr>
                <tr class="video-highlight"><td><strong>Net Income</strong></td><td><strong>$110M</strong></td></tr>
                <tr><td>Net Margin</td><td>11%</td></tr>
              </table>
            `,
            speech: "Net Income is the bottom line - what the company actually earned after all expenses, interest, and taxes. This company has an 11% net margin, meaning it keeps 11 cents of profit for every dollar of revenue. This is what shareholders care about most!",
            duration: 20000
          },
          {
            title: "Key Profitability Metrics",
            content: `
              <div style="font-size: 1.3rem; line-height: 2;">
                <p><strong style="color: #a8b2d1;">Gross Margin:</strong> 40% ‚úÖ</p>
                <p><strong style="color: #a8b2d1;">Operating Margin:</strong> 15%</p>
                <p><strong style="color: #a8b2d1;">Net Margin:</strong> 11%</p>
                <p><strong style="color: #a8b2d1;">EPS (Earnings Per Share):</strong> $5.50</p>
              </div>
            `,
            speech: "Here are the key profitability metrics. Gross margin of 40% shows strong pricing power. Operating margin of 15% indicates efficient operations. Net margin of 11% is solid. Earnings per share of 5 dollars 50 cents tells us how much each share earned. These metrics help compare companies.",
            duration: 18000
          },
          {
            title: "Lesson Complete! üéâ",
            content: `
              <div style="text-align: center;">
                <h2 style="color: #667eea; margin-bottom: 30px;">Excellent Work!</h2>
                <p style="font-size: 1.4rem; margin-bottom: 20px;">You now understand:</p>
                <ul style="list-style: none; font-size: 1.2rem; line-height: 2;">
                  <li>‚úÖ Revenue and Cost of Goods Sold</li>
                  <li>‚úÖ Gross Profit and Operating Income</li>
                  <li>‚úÖ Net Income calculation</li>
                  <li>‚úÖ Key profitability ratios</li>
                </ul>
                <p style="margin-top: 30px; font-size: 1.1rem; color: rgba(255,255,255,0.7);">
                  Continue to Cash Flow Statement next!
                </p>
              </div>
            `,
            speech: "Fantastic! You've mastered income statement analysis. You can now read revenue, calculate gross profit, understand operating expenses, and analyze net income. These skills are essential for evaluating any investment. Ready for the Cash Flow Statement? Click Next Lesson!",
            duration: 18000
          }
        ]
      }
    };

    // State management
    let currentModuleIndex = 0;
    let currentLessonIndex = 0;
    let currentSlideIndex = 0;
    let isPlaying = false;
    let currentUtterance = null;
    let completedLessons = new Set();

    // Initialize course
    function initCourse() {
      renderSidebar();
      loadLesson(0, 0);
    }

    // Render sidebar with all modules and lessons
    function renderSidebar() {
      const sidebar = document.getElementById('courseSidebar');
      let html = '';

      courseData.modules.forEach((module, moduleIdx) => {
        html += `
          <div class="module">
            <div class="module-header" onclick="toggleModule(${moduleIdx})">
              <div class="module-title">
                <span>${module.title}</span>
                <span class="module-count">${module.lessons.length} lessons</span>
              </div>
            </div>
            <div class="lesson-list" id="module-${moduleIdx}-lessons">
        `;

        module.lessons.forEach((lesson, lessonIdx) => {
          const isCompleted = completedLessons.has(`${moduleIdx}-${lessonIdx}`);
          const isActive = moduleIdx === currentModuleIndex && lessonIdx === currentLessonIndex;
          
          html += `
            <div class="lesson-item ${isActive ? 'active' : ''}" onclick="loadLesson(${moduleIdx}, ${lessonIdx})">
              <span class="lesson-icon">${lesson.icon}</span>
              <span class="lesson-title">${lesson.title}</span>
              <span class="lesson-duration">${lesson.duration}</span>
              ${isCompleted ? '<span class="completion-badge">‚úì</span>' : ''}
            </div>
          `;
        });

        html += '</div></div>';
      });

      sidebar.innerHTML = html;
    }

    // Load a specific lesson
    function loadLesson(moduleIdx, lessonIdx) {
      currentModuleIndex = moduleIdx;
      currentLessonIndex = lessonIdx;
      currentSlideIndex = 0;
      pauseVideo();

      const lesson = courseData.modules[moduleIdx].lessons[lessonIdx];
      const content = lessonContent[lesson.id];

      if (!content) {
        // Placeholder for lessons not yet created
        document.getElementById('videoContentArea').innerHTML = `
          <div style="text-align: center;">
            <h1 class="video-slide-title">${lesson.icon} ${lesson.title}</h1>
            <p class="video-slide-content">This lesson is being prepared and will be available soon!</p>
            <p style="margin-top: 30px; color: rgba(255,255,255,0.6);">
              For now, enjoy the Balance Sheet and Income Statement lessons that are complete.
            </p>
          </div>
        `;
        return;
      }

      currentLessonSlides = content.slides;
      renderSlide();
      renderSidebar();
      updateNavigationButtons();
    }

    // Render current slide
    function renderSlide() {
      const slide = currentLessonSlides[currentSlideIndex];
      const contentArea = document.getElementById('videoContentArea');
      
      contentArea.innerHTML = `
        <h1 class="video-slide-title">${slide.title}</h1>
        <div class="video-slide-content">${slide.content}</div>
      `;
      
      document.getElementById('slideIndicator').textContent = 
        `Slide ${currentSlideIndex + 1}/${currentLessonSlides.length}`;
      
      updateProgress();
    }

    // Update progress bar
    function updateProgress() {
      const progress = ((currentSlideIndex + 1) / currentLessonSlides.length) * 100;
      document.getElementById('videoProgressBar').style.width = progress + '%';
    }

    // Speech synthesis
    function speak(text, duration) {
      return new Promise((resolve) => {
        if ('speechSynthesis' in window) {
          currentUtterance = new SpeechSynthesisUtterance(text);
          
          const voices = speechSynthesis.getVoices();
          const femaleVoice = voices.find(voice => 
            voice.name.includes('Female') || 
            voice.name.includes('Samantha') ||
            voice.name.includes('Microsoft Zira')
          );
          
          if (femaleVoice) currentUtterance.voice = femaleVoice;
          
          currentUtterance.rate = 0.92;
          currentUtterance.pitch = 1.1;
          
          const caption = document.getElementById('videoCaption');
          caption.textContent = text;
          caption.style.display = 'block';
          
          currentUtterance.onend = () => {
            caption.style.display = 'none';
            resolve();
          };
          
          speechSynthesis.speak(currentUtterance);
        } else {
          setTimeout(resolve, duration);
        }
      });
    }

    // Play video
    async function playVideo() {
      if (isPlaying) return;
      
      isPlaying = true;
      document.getElementById('playBtn').disabled = true;
      document.getElementById('pauseBtn').disabled = false;
      
      while (currentSlideIndex < currentLessonSlides.length && isPlaying) {
        renderSlide();
        await speak(currentLessonSlides[currentSlideIndex].speech, 
                   currentLessonSlides[currentSlideIndex].duration);
        
        if (isPlaying) {
          currentSlideIndex++;
          if (currentSlideIndex >= currentLessonSlides.length) {
            completedLessons.add(`${currentModuleIndex}-${currentLessonIndex}`);
            isPlaying = false;
            document.getElementById('playBtn').disabled = false;
            document.getElementById('pauseBtn').disabled = true;
            currentSlideIndex = 0;
            renderSlide();
            renderSidebar();
          }
        }
      }
    }

    // Pause video
    function pauseVideo() {
      isPlaying = false;
      speechSynthesis.cancel();
      document.getElementById('playBtn').disabled = false;
      document.getElementById('pauseBtn').disabled = true;
      document.getElementById('videoCaption').style.display = 'none';
    }

    // Next slide
    function nextSlide() {
      pauseVideo();
      if (currentSlideIndex < currentLessonSlides.length - 1) {
        currentSlideIndex++;
        renderSlide();
        updateNavigationButtons();
      }
    }

    // Previous slide
    function previousSlide() {
      pauseVideo();
      if (currentSlideIndex > 0) {
        currentSlideIndex--;
        renderSlide();
        updateNavigationButtons();
      }
    }

    // Load next lesson
    function loadNextLesson() {
      const currentModule = courseData.modules[currentModuleIndex];
      
      if (currentLessonIndex < currentModule.lessons.length - 1) {
        loadLesson(currentModuleIndex, currentLessonIndex + 1);
      } else if (currentModuleIndex < courseData.modules.length - 1) {
        loadLesson(currentModuleIndex + 1, 0);
      } else {
        alert('üéâ Congratulations! You\'ve completed the entire course!');
      }
    }

    // Update navigation buttons
    function updateNavigationButtons() {
      document.getElementById('prevSlideBtn').disabled = currentSlideIndex === 0;
      document.getElementById('nextSlideBtn').disabled = currentSlideIndex === currentLessonSlides.length - 1;
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') nextSlide();
      else if (e.key === 'ArrowLeft') previousSlide();
      else if (e.key === ' ') {
        e.preventDefault();
        isPlaying ? pauseVideo() : playVideo();
      }
    });

    // Load voices
    if ('speechSynthesis' in window) {
      speechSynthesis.onvoiceschanged = () => {
        console.log('Voices loaded');
      };
      speechSynthesis.getVoices();
    }

    // Initialize on page load
    let currentLessonSlides = [];
    initCourse();
  </script>
</body>
</html>
